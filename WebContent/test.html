<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	function send() {
		var responseElement = document.getElementById("response");
		responseElement.value = "请求服务器中...";
		var requestElement = document.getElementById("request");
		var requestStr = requestElement.value;
		var token = document.getElementById("token").value;
		//发送消息
		request(token, requestStr);
	}
	function request(token, content) {
		var xmlhttp;
		if (window.XMLHttpRequest) {
			xmlhttp = new XMLHttpRequest();
		} else {
			xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
		}
		xmlhttp.onreadystatechange = function() {
			//console.log("xmlhttp : readyState" + xmlhttp.readyState  + ",status:" + xmlhttp.status);
			if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
				document.getElementById("response").value = xmlhttp.responseText;
			}
		}
		// xmlhttp.setRequestHeader("token","xtdhwl|123456");
		xmlhttp.open("GET", "/AWeb/webaction.do" + "?content=" + content, true);
		xmlhttp.setRequestHeader("token", token);
		xmlhttp.send();
	}
</script>
</head>
<body style="margin: 20px">
	<div style="width: 30%; border-style: solid; border-width: 1px;">
		用户信息</div>
	<div
		style="float: none; position: absolute; left: 35%; top: 20px; border-style: solid; border-width: 1px;">
		<table>
			<tr>
				<td><input id="token" type="text" style="width: 90%"
					value="xtdhwl|123456" /></td>
			</tr>
			<tr>
				<td><textarea id="request" rows="15" cols="60">发送内容</textarea>
				</td>
			</tr>
			<tr>
				<td><input type="button" value="submit" onclick="send()" /></td>
			</tr>
			<tr>
				<td><textarea id="response" rows="15" cols="60">获取到的内容</textarea>
				</td>
			</tr>
		</table>


	</div>
</body>
</html>
